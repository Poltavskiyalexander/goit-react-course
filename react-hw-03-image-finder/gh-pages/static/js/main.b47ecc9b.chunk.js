(this["webpackJsonpgoit-react-hw-01"]=this["webpackJsonpgoit-react-hw-01"]||[]).push([[0],{65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),i=n(8),o=n.n(i),s=n(10),l=n(4),u=n(5),d=n(7),m=n(6),h=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={qwery:""},e.submitHandler=function(t){t.preventDefault(),e.props.onSubmit(e.state.qwery),e.setState({qwery:""})},e.changeHandler=function(t){e.setState({qwery:t.target.value})},e}return Object(u.a)(n,[{key:"render",value:function(){return Object(a.jsx)("header",{className:"Searchbar",children:Object(a.jsxs)("form",{onSubmit:this.submitHandler,className:"SearchForm",children:[Object(a.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(a.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(a.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:this.changeHandler,value:this.state.qwery})]})})}}]),n}(c.Component),j=n(19),b=n.n(j),g=function(e,t){return b.a.get("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("19126431-639b2ba18eb4caa5d22b03767","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.data.hits}))},p=function(e){var t=e.imgData,n=e.imageClickHendler,c=e.index;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("li",{className:"ImageGalleryItem",children:Object(a.jsx)("img",{onClick:function(){n(c)},src:t.webformatURL,alt:"",className:"ImageGalleryItem-image"})})})},O=function(e){var t=e.images,n=e.imageClickHendler;return Object(a.jsx)("ul",{className:"ImageGallery",children:t.map((function(e,t){return Object(a.jsx)(p,{imageClickHendler:n,imgData:e,index:t},e.id)}))})},f=document.querySelector("#modal-root"),y=function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).handleKeyDown=function(t){"Escape"===t.code&&e.props.closeModal()},e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){var e=this.props,t=e.closeModal,n=e.children;return Object(i.createPortal)(Object(a.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&t()},children:Object(a.jsx)("div",{className:"Modal",children:n})}),f)}}]),n}(c.Component),x=n(20),v=n.n(x),w=function(e){var t=e.clickHandler;return Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("button",{onClick:t,type:"button",children:"Load more"})})},k=function(e){var t=e.image,n=e.descriptions;return Object(a.jsx)("img",{src:t,alt:n})},S=(n(65),function(e){Object(d.a)(n,e);var t=Object(m.a)(n);function n(){var e;Object(l.a)(this,n);for(var a=arguments.length,c=new Array(a),r=0;r<a;r++)c[r]=arguments[r];return(e=t.call.apply(t,[this].concat(c))).state={searchQwery:"",img:[],page:1,modalIsOpen:!1,currentIndex:null,isLoad:!1},e.getImg=function(t){e.setState({isLoad:!0}),g(t,e.state.page).then((function(n){return e.setState((function(e){return{searchQwery:t,img:[].concat(Object(s.a)(e.img),Object(s.a)(n)),page:e.page+1}}))})).finally(e.setState({isLoad:!1}))},e.serchSubmit=function(t){e.setState({img:[]}),e.getImg(t)},e.clickHandler=function(){e.getImg(e.state.searchQwery)},e.imageClickHendler=function(t){e.setState({modalIsOpen:!0,currentIndex:t})},e.closeModal=function(){e.setState({modalIsOpen:!1,currentIndex:null})},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this.state,t=e.img,n=e.searchQwery,c=e.currentIndex;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{children:n}),Object(a.jsx)(h,{onSubmit:this.serchSubmit}),Object(a.jsx)(O,{imageClickHendler:this.imageClickHendler,images:t}),this.state.isLoad&&Object(a.jsx)(v.a,{type:"Hearts",color:"#00BFFF",height:200,width:200}),!!t.length&&Object(a.jsx)(w,{clickHandler:this.clickHandler}),this.state.modalIsOpen&&Object(a.jsx)(y,{closeModal:this.closeModal,children:Object(a.jsx)(k,{image:t[c].largeImageURL,descriptions:t[c].tags})})]})}}]),n}(c.Component));o.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(S,{})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.b47ecc9b.chunk.js.map